<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnubisQemuControl</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-dark-bg text-dark-text">
<!-- Top Menu Bar -->
<div class="bg-dark-surface border-b border-dark-border">
    <div class="flex items-center justify-between px-4 py-2">
        <div class="flex items-center space-x-4">
            <h1 class="text-xl font-bold text-dark-accent">AnubisQemuControl</h1>
            <div class="flex space-x-2">
                <button id="btnNewVM" class="px-3 py-1 bg-dark-accent hover:bg-dark-accentHover rounded text-sm">
                    Nov√° VM
                </button>
                <button id="btnNewAndroidVM" class="px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm">
                    ü§ñ Android VM
                </button>
                <button id="btnSettings" class="px-3 py-1 bg-dark-surface2 hover:bg-dark-border rounded text-sm">
                    Nastavenia
                </button>
                <button id="btnAbout" class="px-3 py-1 bg-dark-surface2 hover:bg-dark-border rounded text-sm">
                    O aplik√°cii
                </button>
            </div>
        </div>
        <div class="flex items-center space-x-2">
                <span id="qemuStatus" class="text-xs px-2 py-1 rounded bg-dark-surface2">
                    Kontrola QEMU...
                </span>
            <span id="runningVMsCount" class="text-xs px-2 py-1 rounded bg-green-600 text-white hidden">
                    Be≈æiace VM: <span id="runningVMsCountNumber">0</span>
                </span>
        </div>
    </div>
</div>

<div class="flex h-[calc(100vh-50px)]">
    <!-- Left Sidebar - VM List -->
    <div class="w-64 bg-dark-surface border-r border-dark-border overflow-y-auto">
        <div class="p-4">
            <h2 class="text-sm font-semibold text-dark-text2 uppercase mb-3">Virtu√°lne stroje</h2>
            <div id="vmList" class="space-y-2 mb-4">
                <!-- VM items will be added here dynamically -->
            </div>

            <!-- Running VMs Summary -->
            <div id="runningVMsSummary" class="mt-4 pt-4 border-t border-dark-border hidden">
                <h3 class="text-xs font-semibold text-dark-text2 uppercase mb-2">Be≈æiace VM</h3>
                <div id="runningVMsList" class="space-y-1">
                    <!-- Running VM items will be added here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="flex-1 flex flex-col">
        <!-- Toolbar -->
        <div class="bg-dark-surface2 border-b border-dark-border px-4 py-2">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2" id="vmToolbar" style="display: none;">
                    <button id="btnStart" class="px-4 py-2 bg-green-600 hover:bg-green-700 rounded text-sm font-medium">
                        ‚ñ∂ Spusti≈•
                    </button>
                    <button id="btnStop" class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded text-sm font-medium" disabled>
                        ‚èπ Zastavi≈•
                    </button>
                    <button id="btnRestart" class="px-4 py-2 bg-yellow-600 hover:bg-yellow-700 rounded text-sm font-medium" disabled>
                        üîÑ Re≈°tartova≈•
                    </button>
                    <div class="w-px h-6 bg-dark-border mx-2"></div>
                    <button id="btnEdit" class="px-4 py-2 bg-dark-accent hover:bg-dark-accentHover rounded text-sm">
                        ‚úèÔ∏è Upravi≈•
                    </button>
                    <button id="btnDelete" class="px-4 py-2 bg-red-600 hover:bg-red-700 rounded text-sm">
                        üóëÔ∏è Vymaza≈•
                    </button>
                    <button id="btnClone" class="px-4 py-2 bg-dark-surface hover:bg-dark-border rounded text-sm">
                        üìã Kl√≥nova≈•
                    </button>
                </div>
                <div id="emptyState" class="text-dark-text2 text-sm">
                    Vyberte VM alebo vytvorte nov√∫
                </div>
            </div>
        </div>

        <!-- Content Panel -->
        <div class="flex-1 overflow-y-auto p-6">
            <!-- Empty State -->
            <div id="emptyContent" class="flex flex-col items-center justify-center h-full">
                <div class="text-center">
                    <div class="text-6xl mb-4">üñ•Ô∏è</div>
                    <h2 class="text-2xl font-bold mb-2">Vitajte v AnubisQemuControl</h2>
                    <p class="text-dark-text2 mb-6">Vytvorte svoju prv√∫ virtu√°lnu ma≈°inu alebo vyberte existuj√∫cu</p>
                    <div class="flex space-x-3">
                        <button id="btnNewVMEmpty" class="px-6 py-3 bg-dark-accent hover:bg-dark-accentHover rounded-lg font-medium">
                            Vytvori≈• nov√∫ VM
                        </button>
                        <button id="btnNewAndroidVMEmpty" class="px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-medium">
                            ü§ñ Vytvori≈• Android VM
                        </button>
                    </div>
                </div>
            </div>

            <!-- VM Details Panel -->
            <div id="vmDetails" class="hidden">
                <div class="grid grid-cols-2 gap-6">
                    <!-- General Info -->
                    <div class="bg-dark-surface rounded-lg p-4 border border-dark-border">
                        <h3 class="text-lg font-semibold mb-4 pb-2 border-b border-dark-border">V≈°eobecn√© inform√°cie</h3>
                        <div class="space-y-3">
                            <div>
                                <label class="text-sm text-dark-text2">N√°zov:</label>
                                <div id="vmName" class="text-base font-medium mt-1">-</div>
                            </div>
                            <div>
                                <label class="text-sm text-dark-text2">Stav:</label>
                                <div id="vmStatus" class="text-base mt-1">
                                    <span class="px-2 py-1 rounded text-xs bg-gray-600">Zastaven√©</span>
                                </div>
                            </div>
                            <div>
                                <label class="text-sm text-dark-text2">Typ:</label>
                                <div id="vmType" class="text-base mt-1">-</div>
                            </div>
                        </div>
                    </div>

                    <!-- System Resources -->
                    <div class="bg-dark-surface rounded-lg p-4 border border-dark-border">
                        <h3 class="text-lg font-semibold mb-4 pb-2 border-b border-dark-border">Syst√©mov√© zdroje</h3>
                        <div class="space-y-3">
                            <div>
                                <label class="text-sm text-dark-text2">RAM:</label>
                                <div id="vmMemory" class="text-base mt-1">-</div>
                            </div>
                            <div>
                                <label class="text-sm text-dark-text2">CPU:</label>
                                <div id="vmCPU" class="text-base mt-1">-</div>
                            </div>
                            <div>
                                <label class="text-sm text-dark-text2">Disk:</label>
                                <div id="vmDisk" class="text-base mt-1">-</div>
                            </div>
                        </div>
                    </div>

                    <!-- Storage -->
                    <div class="bg-dark-surface rounded-lg p-4 border border-dark-border">
                        <h3 class="text-lg font-semibold mb-4 pb-2 border-b border-dark-border">√ölo≈æisko</h3>
                        <div class="space-y-2">
                            <div>
                                <label class="text-sm text-dark-text2">Disk Image:</label>
                                <div id="vmDiskImage" class="text-sm mt-1 break-all">-</div>
                                <div id="vmDiskSize" class="text-xs text-dark-text2 mt-1">-</div>
                                <button id="btnResizeDisk" class="mt-2 px-3 py-1 bg-dark-accent hover:bg-dark-accentHover rounded text-xs hidden">
                                    üîß Zmeni≈• veƒækos≈• disku
                                </button>
                            </div>
                            <div>
                                <label class="text-sm text-dark-text2">CD/DVD:</label>
                                <div id="vmCDROM" class="text-sm mt-1 break-all">-</div>
                            </div>
                        </div>
                    </div>

                    <!-- Network -->
                    <div class="bg-dark-surface rounded-lg p-4 border border-dark-border">
                        <h3 class="text-lg font-semibold mb-4 pb-2 border-b border-dark-border">Sie≈•</h3>
                        <div class="space-y-2">
                            <div>
                                <label class="text-sm text-dark-text2">Typ:</label>
                                <div id="vmNetworkType" class="text-sm mt-1">-</div>
                            </div>
                            <div>
                                <label class="text-sm text-dark-text2">VNC Port:</label>
                                <div id="vmVNCPort" class="text-sm mt-1">-</div>
                            </div>
                        </div>
                    </div>

                    <!-- Drivers -->
                    <div class="bg-dark-surface rounded-lg p-4 border border-dark-border">
                        <h3 class="text-lg font-semibold mb-4 pb-2 border-b border-dark-border">Ovladaƒçe</h3>
                        <div class="space-y-2">
                            <div id="vmVirtioStatus" class="text-sm text-dark-text2">
                                VirtIO ovladaƒçe nie s√∫ pripojen√©
                            </div>
                            <button id="btnDownloadVirtio" class="mt-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm font-medium">
                                üì• Stiahnu≈• a pripoji≈• VirtIO ovladaƒçe
                            </button>
                            <p class="text-xs text-dark-text2 mt-2">
                                VirtIO ovladaƒçe zlep≈°uj√∫ v√Ωkon VM (disky, sie≈•). Odpor√∫ƒçan√© pre Windows VM.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- QEMU Arguments (shown when VM is running) -->
                <div id="vmQemuArgsPanel" class="mt-6 bg-dark-surface rounded-lg p-4 border border-dark-border hidden">
                    <h3 class="text-lg font-semibold mb-4 pb-2 border-b border-dark-border">QEMU Argumenty</h3>
                    <div class="space-y-2">
                        <div>
                            <label class="text-sm text-dark-text2">Pou≈æit√© argumenty:</label>
                            <div id="vmQemuArgs" class="text-xs font-mono bg-dark-bg rounded p-2 mt-1 break-all max-h-32 overflow-y-auto">-</div>
                        </div>
                        <button id="btnCopyQemuArgs" class="mt-2 px-3 py-1 bg-dark-accent hover:bg-dark-accentHover rounded text-xs">
                            üìã Kop√≠rova≈• pr√≠kaz
                        </button>
                    </div>
                </div>

                <!-- VM Display (Embedded VNC) -->
                <div id="vmDisplayPanel" class="mt-6 bg-dark-surface rounded-lg p-4 border border-dark-border hidden">
                    <div class="flex items-center justify-between mb-4 pb-2 border-b border-dark-border">
                        <h3 class="text-lg font-semibold">Zobrazenie VM</h3>
                        <button id="btnFullscreenDisplay" class="px-3 py-1 bg-dark-accent hover:bg-dark-accentHover rounded text-sm">
                            ‚õ∂ Cel√° obrazovka
                        </button>
                    </div>
                    <div id="vmDisplayContainer" class="bg-dark-bg rounded border border-dark-border" style="height: 500px; position: relative;">
                        <div id="vmDisplayPlaceholder" class="flex items-center justify-center h-full text-dark-text2">
                            <div class="text-center">
                                <div class="text-4xl mb-2">üñ•Ô∏è</div>
                                <p>VM sa naƒç√≠tava...</p>
                            </div>
                        </div>
                        <iframe id="vmDisplayFrame" class="hidden w-full h-full border-0" src=""></iframe>
                    </div>
                </div>

                <!-- VM Output/Log -->
                <div class="mt-6 bg-dark-surface rounded-lg p-4 border border-dark-border">
                    <h3 class="text-lg font-semibold mb-4 pb-2 border-b border-dark-border">V√Ωstup VM</h3>
                    <div id="vmOutput" class="bg-dark-bg rounded p-3 font-mono text-xs h-48 overflow-y-auto">
                        <div class="text-dark-text2">≈Ωiadny v√Ωstup...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Settings Modal -->
<div id="settingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-dark-surface rounded-lg w-[900px] max-h-[90vh] overflow-y-auto border border-dark-border">
        <div class="p-6">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold">Nastavenia</h2>
                <button id="btnCloseSettings" class="text-dark-text2 hover:text-dark-text text-2xl">&times;</button>
            </div>

            <form id="settingsForm" class="space-y-6">
                <!-- QEMU Settings -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">QEMU Konfigur√°cia</h3>
                    <div>
                        <label class="block text-sm mb-2">Cesta k QEMU (pr√°zdne = syst√©mov√Ω PATH):</label>
                        <div class="flex gap-2">
                            <input type="text" id="settingQemuPath" class="flex-1 px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" placeholder="C:\\Program Files\\qemu\\qemu-system-x86_64.exe">
                            <button type="button" id="btnBrowseQemu" class="px-4 py-2 bg-dark-accent hover:bg-dark-accentHover rounded">Prehƒæada≈•</button>
                        </div>
                        <p class="text-xs text-dark-text2 mt-1">Ak je QEMU v syst√©movom PATH, nechajte pr√°zdne</p>
                    </div>
                    <div>
                        <label class="block text-sm mb-2">QEMU Architekt√∫ra:</label>
                        <select id="settingQemuArch" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                            <option value="x86_64">x86_64 (64-bit)</option>
                            <option value="i386">i386 (32-bit)</option>
                            <option value="arm">ARM</option>
                            <option value="aarch64">AArch64</option>
                        </select>
                    </div>
                </div>

                <!-- Default VM Settings -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">Predvolen√© nastavenia pre nov√© VM</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm mb-2">Predvolen√° RAM (MB):</label>
                            <input type="number" id="settingDefaultMemory" value="2048" min="256" step="256" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                        </div>
                        <div>
                            <label class="block text-sm mb-2">Predvolen√Ω poƒçet CPU jadier:</label>
                            <input type="number" id="settingDefaultCPU" value="2" min="1" max="32" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm mb-2">Predvolen√Ω typ siete:</label>
                        <select id="settingDefaultNetwork" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                            <option value="user">User Mode (NAT)</option>
                            <option value="bridge">Bridge</option>
                            <option value="none">≈Ωiadna</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm mb-2">Predvolen√Ω VNC Port:</label>
                        <input type="number" id="settingDefaultVNCPort" value="0" min="0" max="65535" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                        <p class="text-xs text-dark-text2 mt-1">0 = automatick√© pridelenie</p>
                    </div>
                </div>

                <!-- Paths -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">Cesty</h3>
                    <div>
                        <label class="block text-sm mb-2">Prieƒçinok pre VM konfigur√°cie:</label>
                        <div class="flex gap-2">
                            <input type="text" id="settingVMDir" class="flex-1 px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" readonly>
                            <button type="button" id="btnBrowseVMDir" class="px-4 py-2 bg-dark-accent hover:bg-dark-accentHover rounded">Prehƒæada≈•</button>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm mb-2">Predvolen√Ω prieƒçinok pre disk images:</label>
                        <div class="flex gap-2">
                            <input type="text" id="settingDiskImageDir" class="flex-1 px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                            <button type="button" id="btnBrowseDiskImageDir" class="px-4 py-2 bg-dark-accent hover:bg-dark-accentHover rounded">Prehƒæada≈•</button>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm mb-2">Predvolen√Ω prieƒçinok pre ISO s√∫bory:</label>
                        <div class="flex gap-2">
                            <input type="text" id="settingISODir" class="flex-1 px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                            <button type="button" id="btnBrowseISODir" class="px-4 py-2 bg-dark-accent hover:bg-dark-accentHover rounded">Prehƒæada≈•</button>
                        </div>
                    </div>
                </div>

                <!-- Advanced QEMU Options -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">Pokroƒçil√© QEMU mo≈ænosti</h3>
                    <div>
                        <label class="block text-sm mb-2">Dodatoƒçn√© QEMU argumenty (pre v≈°etky VM):</label>
                        <textarea id="settingQemuExtraArgs" rows="3" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent font-mono text-sm" placeholder="-enable-kvm -cpu host"></textarea>
                        <p class="text-xs text-dark-text2 mt-1">Jeden argument na riadok alebo oddelen√© medzerami. Tieto argumenty sa pridaj√∫ ku ka≈æd√©mu spusten√©mu VM.</p>
                        <p class="text-xs text-dark-text2 mt-1">Pr√≠klady: <code class="bg-dark-bg px-1 rounded">-enable-kvm</code>, <code class="bg-dark-bg px-1 rounded">-cpu host</code>, <code class="bg-dark-bg px-1 rounded">-machine type=q35</code></p>
                    </div>
                    <div>
                        <label class="block text-sm mb-2">Zobrazi≈• QEMU argumenty pri spusten√≠ VM:</label>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="settingShowQemuArgs" class="w-4 h-4 text-dark-accent bg-dark-surface2 border-dark-border rounded focus:ring-dark-accent">
                            <span class="text-sm">Zobrazi≈• pou≈æit√© QEMU argumenty v konzole VM</span>
                        </label>
                        <p class="text-xs text-dark-text2 mt-1">Ak je zapnut√©, zobraz√≠ sa kompletn√Ω QEMU pr√≠kaz s argumentmi pri spusten√≠ VM</p>
                    </div>
                    <div>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="settingAutoStartVNC" class="w-4 h-4 text-dark-accent bg-dark-surface2 border-dark-border rounded focus:ring-dark-accent">
                            <span class="text-sm">Automaticky spusti≈• VNC server pri spusten√≠ VM</span>
                        </label>
                    </div>
                    <div>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="settingShowQemuOutput" class="w-4 h-4 text-dark-accent bg-dark-surface2 border-dark-border rounded focus:ring-dark-accent">
                            <span class="text-sm">Zobrazi≈• QEMU v√Ωstup v konzole</span>
                        </label>
                    </div>
                </div>

                <!-- Application Settings -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">Nastavenia aplik√°cie</h3>
                    <div>
                        <label class="block text-sm mb-2">Jazyk:</label>
                        <select id="settingLanguage" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                            <option value="sk">Slovenƒçina</option>
                            <option value="en">English</option>
                            <option value="cs">ƒåe≈°tina</option>
                        </select>
                    </div>
                    <div>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="settingStartMinimized" class="w-4 h-4 text-dark-accent bg-dark-surface2 border-dark-border rounded focus:ring-dark-accent">
                            <span class="text-sm">Spusti≈• aplik√°ciu minimalizovan√∫</span>
                        </label>
                    </div>
                    <div>
                        <label class="flex items-center space-x-2">
                            <input type="checkbox" id="settingMinimizeToTray" class="w-4 h-4 text-dark-accent bg-dark-surface2 border-dark-border rounded focus:ring-dark-accent">
                            <span class="text-sm">Minimalizova≈• do syst√©movej li≈°ty</span>
                        </label>
                    </div>
                </div>

                <!-- Actions -->
                <div class="flex justify-between pt-4 border-t border-dark-border">
                    <button type="button" id="btnResetSettings" class="px-6 py-2 bg-yellow-600 hover:bg-yellow-700 rounded font-medium">
                        Obnovi≈• predvolen√©
                    </button>
                    <div class="flex space-x-3">
                        <button type="button" id="btnCancelSettings" class="px-6 py-2 bg-dark-surface2 hover:bg-dark-border rounded">
                            Zru≈°i≈•
                        </button>
                        <button type="submit" class="px-6 py-2 bg-dark-accent hover:bg-dark-accentHover rounded font-medium">
                            Ulo≈æi≈• nastavenia
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- New/Edit VM Modal -->
<div id="newVMModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-dark-surface rounded-lg w-[800px] max-h-[90vh] overflow-y-auto border border-dark-border">
        <div class="p-6">
            <div class="flex items-center justify-between mb-6">
                <h2 id="vmModalTitle" class="text-2xl font-bold">Nov√° virtu√°lna ma≈°ina</h2>
                <button id="btnCloseModal" class="text-dark-text2 hover:text-dark-text text-2xl">&times;</button>
            </div>

            <form id="vmForm" class="space-y-6">
                <input type="hidden" id="inputVMId" value="">
                <!-- Basic Info -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">Z√°kladn√© inform√°cie</h3>
                    <div>
                        <label class="block text-sm mb-2">N√°zov VM:</label>
                        <input type="text" id="inputVMName" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" required>
                    </div>
                    <div>
                        <label class="block text-sm mb-2">Typ OS:</label>
                        <select id="inputVMType" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                            <option value="linux">Linux</option>
                            <option value="windows">Windows</option>
                            <option value="android">ü§ñ Android</option>
                            <option value="macos">macOS</option>
                            <option value="other">In√©</option>
                        </select>
                    </div>
                </div>

                <!-- System Resources -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">Syst√©mov√© zdroje</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm mb-2">RAM (MB):</label>
                            <input type="number" id="inputMemory" value="2048" min="256" step="256" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" required>
                        </div>
                        <div>
                            <label class="block text-sm mb-2">CPU jadr√°:</label>
                            <input type="number" id="inputCPU" value="2" min="1" max="8" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" required>
                        </div>
                    </div>
                </div>

                <!-- Storage -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">√ölo≈æisko</h3>
                    <div>
                        <label class="flex items-center space-x-2 mb-2">
                            <input type="checkbox" id="inputCreateDisk" class="w-4 h-4 text-dark-accent bg-dark-surface2 border-dark-border rounded focus:ring-dark-accent">
                            <span class="text-sm">Automaticky vytvori≈• nov√Ω disk</span>
                        </label>
                        <div id="diskCreationOptions" class="ml-6 mt-2 space-y-2 hidden">
                            <div class="grid grid-cols-2 gap-2">
                                <div>
                                    <label class="block text-xs text-dark-text2 mb-1">Veƒækos≈• disku (GB):</label>
                                    <input type="number" id="inputDiskSize" value="20" min="1" max="1024" step="1" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                                </div>
                                <div>
                                    <label class="block text-xs text-dark-text2 mb-1">Form√°t:</label>
                                    <select id="inputDiskFormat" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                                        <option value="qcow2">QCOW2 (odpor√∫ƒçan√©)</option>
                                        <option value="raw">RAW</option>
                                        <option value="vdi">VDI</option>
                                    </select>
                                </div>
                            </div>
                            <p class="text-xs text-dark-text2">Disk bude vytvoren√Ω v predvolenom prieƒçinku pre disk images</p>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm mb-2">Disk Image:</label>
                        <div class="flex gap-2">
                            <input type="text" id="inputDiskImage" class="flex-1 px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" placeholder="Cesta k disk image s√∫boru alebo nechajte pr√°zdne pre auto-vytvorenie">
                            <button type="button" id="btnBrowseDisk" class="px-4 py-2 bg-dark-accent hover:bg-dark-accentHover rounded">Prehƒæada≈•</button>
                        </div>
                        <p class="text-xs text-dark-text2 mt-1">Ak je zaƒçiarknut√© "Automaticky vytvori≈• nov√Ω disk", tento s√∫bor bude vytvoren√Ω automaticky</p>
                    </div>
                    <div>
                        <label class="block text-sm mb-2">CD/DVD Image (voliteƒæn√©):</label>
                        <div class="flex gap-2">
                            <input type="text" id="inputCDROM" class="flex-1 px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" placeholder="Cesta k ISO s√∫boru">
                            <button type="button" id="btnBrowseCDROM" class="px-4 py-2 bg-dark-accent hover:bg-dark-accentHover rounded">Prehƒæada≈•</button>
                        </div>
                    </div>
                </div>

                <!-- Network -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">Sie≈•</h3>
                    <div>
                        <label class="block text-sm mb-2">Typ siete:</label>
                        <select id="inputNetworkType" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                            <option value="user">User Mode (NAT)</option>
                            <option value="bridge">Bridge</option>
                            <option value="none">≈Ωiadna</option>
                        </select>
                    </div>
                    <div id="networkBridgeGroup" class="hidden">
                        <label class="block text-sm mb-2">Bridge Interface:</label>
                        <input type="text" id="inputNetworkBridge" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" placeholder="eth0">
                    </div>
                </div>

                <!-- Display -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">Zobrazenie</h3>
                    <div>
                        <label class="block text-sm mb-2">Re≈æim zobrazenia:</label>
                        <select id="inputDisplayMode" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                            <option value="none">≈Ωiadne (headless)</option>
                            <option value="gui">GUI (samostatn√© okno, bez VNC)</option>
                            <option value="vnc">VNC (extern√Ω klient)</option>
                            <option value="embedded">VNC (v aplik√°cii)</option>
                            <option value="sdl">SDL (samostatn√© okno)</option>
                        </select>
                        <p class="text-xs text-dark-text2 mt-1">GUI otvor√≠ samostatn√© okno bez VNC. VNC v aplik√°cii zobraz√≠ VM priamo v aplik√°cii.</p>
                    </div>
                    <div id="vncPortGroup">
                        <label class="block text-sm mb-2">VNC Port:</label>
                        <input type="number" id="inputVNCPort" value="0" min="0" max="65535" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                        <p class="text-xs text-dark-text2 mt-1">0 = automatick√© pridelenie (iba pre VNC re≈æimy)</p>
                    </div>
                </div>

                <!-- Actions -->
                <div class="flex justify-end space-x-3 pt-4 border-t border-dark-border">
                    <button type="button" id="btnCancelVM" class="px-6 py-2 bg-dark-surface2 hover:bg-dark-border rounded">
                        Zru≈°i≈•
                    </button>
                    <button type="submit" id="btnSubmitVM" class="px-6 py-2 bg-dark-accent hover:bg-dark-accentHover rounded font-medium">
                        Vytvori≈• VM
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- VirtIO Drivers Download Modal -->
<div id="virtioDownloadModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-dark-surface rounded-lg w-[600px] border border-dark-border">
        <div class="p-6">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold">Stiahnu≈• VirtIO ovladaƒçe</h2>
                <button id="btnCloseVirtioModal" class="text-dark-text2 hover:text-dark-text text-2xl">&times;</button>
            </div>

            <div class="space-y-4">
                <div>
                    <label class="block text-sm mb-2">Verzia ovladaƒçov:</label>
                    <select id="virtioVersion" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                        <option value="latest">Najnov≈°ia verzia (odpor√∫ƒçan√©)</option>
                        <option value="0.1.240">0.1.240</option>
                        <option value="0.1.229">0.1.229</option>
                    </select>
                </div>

                <div id="virtioDownloadProgress" class="hidden space-y-2">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">S≈•ahovanie VirtIO ovladaƒçov</h3>
                    <div class="bg-dark-surface2 rounded p-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm" id="virtioDownloadStatus">Pripravuje sa s≈•ahovanie...</span>
                            <span class="text-sm font-medium" id="virtioDownloadPercent">0%</span>
                        </div>
                        <div class="w-full bg-dark-bg rounded-full h-2">
                            <div id="virtioDownloadBar" class="bg-blue-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                        </div>
                        <p class="text-xs text-dark-text2 mt-2" id="virtioDownloadSpeed">-</p>
                    </div>
                </div>

                <div class="bg-blue-900 bg-opacity-20 border border-blue-600 rounded p-3">
                    <p class="text-sm text-blue-200">
                        <strong>Pozn√°mka:</strong> Po stiahnut√≠ sa VirtIO ISO automaticky pripoj√≠ k VM ako CD/DVD.
                        V Windows VM otvorte tento disk a nain≈°talujte ovladaƒçe pre lep≈°√≠ v√Ωkon.
                    </p>
                </div>
            </div>

            <div class="flex justify-end space-x-3 pt-4 mt-6 border-t border-dark-border">
                <button type="button" id="btnCancelVirtio" class="px-6 py-2 bg-dark-surface2 hover:bg-dark-border rounded">
                    Zru≈°i≈•
                </button>
                <button type="button" id="btnDownloadVirtioConfirm" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded font-medium">
                    Stiahnu≈• a pripoji≈•
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Resize Disk Modal -->
<div id="resizeDiskModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-dark-surface rounded-lg w-[500px] border border-dark-border">
        <div class="p-6">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold">Zmeni≈• veƒækos≈• disku</h2>
                <button id="btnCloseResizeModal" class="text-dark-text2 hover:text-dark-text text-2xl">&times;</button>
            </div>

            <div class="space-y-4">
                <div>
                    <label class="block text-sm mb-2">S√∫ƒçasn√° veƒækos≈•:</label>
                    <div id="resizeCurrentSize" class="text-base font-medium">-</div>
                </div>
                <div>
                    <label class="block text-sm mb-2">Nov√° veƒækos≈• (GB):</label>
                    <input type="number" id="resizeNewSize" min="1" max="2048" step="1" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" required>
                    <p class="text-xs text-dark-text2 mt-1">Pozn√°mka: M√¥≈æete iba zv√§ƒç≈°i≈• disk. Zmen≈°enie nie je podporovan√©.</p>
                </div>
                <div id="resizeProgress" class="hidden">
                    <div class="bg-dark-surface2 rounded p-3">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm" id="resizeStatus">Pripravuje sa...</span>
                        </div>
                        <div class="w-full bg-dark-bg rounded-full h-2">
                            <div id="resizeBar" class="bg-green-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="flex justify-end space-x-3 pt-4 mt-6 border-t border-dark-border">
                <button type="button" id="btnCancelResize" class="px-6 py-2 bg-dark-surface2 hover:bg-dark-border rounded">
                    Zru≈°i≈•
                </button>
                <button type="button" id="btnConfirmResize" class="px-6 py-2 bg-dark-accent hover:bg-dark-accentHover rounded font-medium">
                    Zmeni≈• veƒækos≈•
                </button>
            </div>
        </div>
    </div>
</div>

<!-- About Modal -->
<div id="aboutModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-dark-surface rounded-lg w-[600px] border border-dark-border">
        <div class="p-6">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold">O aplik√°cii</h2>
                <button id="btnCloseAboutModal" class="text-dark-text2 hover:text-dark-text text-2xl">&times;</button>
            </div>

            <div class="space-y-4">
                <div class="text-center">
                    <div class="text-5xl mb-4">üñ•Ô∏è</div>
                    <h3 class="text-xl font-bold mb-2">AnubisQemuControl</h3>
                    <p class="text-sm text-dark-text2 mb-4">Modern QEMU Control Tool</p>
                </div>

                <div class="bg-dark-surface2 rounded-lg p-4 space-y-3">
                    <div>
                        <label class="text-sm text-dark-text2">Verzia:</label>
                        <div id="aboutVersion" class="text-base font-medium">1.0.0</div>
                    </div>
                    <div>
                        <label class="text-sm text-dark-text2">Autor:</label>
                        <div class="text-base font-medium">AnubisSVK</div>
                    </div>
                    <div>
                        <label class="text-sm text-dark-text2">GitHub:</label>
                        <div class="text-base">
                            <a id="aboutGitHubLink" href="https://github.com/AnubisSK/AnubisQemuControl" target="_blank" class="text-dark-accent hover:text-dark-accentHover underline">
                                https://github.com/AnubisSK/AnubisQemuControl
                            </a>
                        </div>
                    </div>
                </div>

                <div id="updateCheckSection" class="space-y-3">
                    <div id="updateStatus" class="hidden bg-dark-surface2 rounded p-3">
                        <div id="updateStatusText" class="text-sm"></div>
                    </div>
                    <div class="flex space-x-3">
                        <button id="btnCheckUpdate" class="flex-1 px-4 py-2 bg-dark-accent hover:bg-dark-accentHover rounded text-sm font-medium">
                            üîÑ Skontrolova≈• aktualiz√°cie
                        </button>
                        <button id="btnOpenGitHub" class="flex-1 px-4 py-2 bg-dark-surface2 hover:bg-dark-border rounded text-sm">
                            üìÇ Otvori≈• GitHub
                        </button>
                    </div>
                    <div id="updateDownloadSection" class="hidden space-y-2">
                        <div class="bg-blue-900 bg-opacity-20 border border-blue-600 rounded p-3">
                            <p class="text-sm text-blue-200 mb-2">
                                <strong>Nova verzia je dostupn√°!</strong>
                            </p>
                            <p id="updateInfo" class="text-xs text-blue-200 mb-3"></p>
                            <a id="btnDownloadUpdate" href="#" target="_blank" class="block w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm font-medium text-center text-white">
                                üì• Stiahnu≈• najnov≈°iu verziu
                            </a>
                        </div>
                    </div>
                </div>

                <div class="pt-4 border-t border-dark-border">
                    <p class="text-xs text-dark-text2 text-center">
                        AnubisQemuControl - Modern QEMU Control Tool<br>
                        ¬© 2025 AnubisSVK. V≈°etky pr√°va vyhraden√©.
                    </p>
                </div>
            </div>

            <div class="flex justify-end space-x-3 pt-4 mt-6 border-t border-dark-border">
                <button type="button" id="btnCloseAbout" class="px-6 py-2 bg-dark-surface2 hover:bg-dark-border rounded">
                    Zavrie≈•
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Android VM Creation Modal -->
<div id="androidVMModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-dark-surface rounded-lg w-[800px] max-h-[90vh] overflow-y-auto border border-dark-border">
        <div class="p-6">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold">ü§ñ Vytvori≈• Android VM</h2>
                <button id="btnCloseAndroidModal" class="text-dark-text2 hover:text-dark-text text-2xl">&times;</button>
            </div>

            <form id="androidVMForm" class="space-y-6">
                <!-- Basic Info -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">Z√°kladn√© inform√°cie</h3>
                    <div>
                        <label class="block text-sm mb-2">N√°zov VM:</label>
                        <input type="text" id="androidVMName" value="Android VM" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" required>
                    </div>
                    <div>
                        <label class="block text-sm mb-2">Verzia Android:</label>
                        <select id="androidVersion" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                            <option value="android-x86-latest">Android-x86 (Najnov≈°ia verzia) - Odpor√∫ƒçan√©</option>
                            <option value="android-x86-9.0">Android-x86 9.0 (Pie)</option>
                            <option value="android-x86-8.1">Android-x86 8.1 (Oreo)</option>
                            <option value="android-x86-7.1">Android-x86 7.1 (Nougat)</option>
                        </select>
                    </div>
                </div>

                <!-- System Resources -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">Syst√©mov√© zdroje</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm mb-2">RAM (MB):</label>
                            <input type="number" id="androidMemory" value="4096" min="2048" step="512" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" required>
                            <p class="text-xs text-dark-text2 mt-1">Odpor√∫ƒçan√©: 4096 MB alebo viac</p>
                        </div>
                        <div>
                            <label class="block text-sm mb-2">CPU jadr√°:</label>
                            <input type="number" id="androidCPU" value="2" min="1" max="8" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" required>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm mb-2">Veƒækos≈• disku (GB):</label>
                        <input type="number" id="androidDiskSize" value="16" min="8" max="128" step="4" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent" required>
                        <p class="text-xs text-dark-text2 mt-1">Odpor√∫ƒçan√©: 16 GB alebo viac</p>
                    </div>
                </div>

                <!-- Acceleration -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">Akceler√°cia</h3>
                    <div>
                        <label class="block text-sm mb-2">Typ akceler√°cie:</label>
                        <select id="androidAcceleration" class="w-full px-3 py-2 bg-dark-surface2 border border-dark-border rounded focus:outline-none focus:border-dark-accent">
                            <option value="auto">Automaticky (odpor√∫ƒçan√©)</option>
                            <option value="kvm">KVM (Linux)</option>
                            <option value="haxm">HAXM (Windows/macOS)</option>
                            <option value="tcg">TCG (softv√©rov√° emul√°cia)</option>
                        </select>
                        <p class="text-xs text-dark-text2 mt-1">KVM/HAXM poskytuje lep≈°√≠ v√Ωkon, ale vy≈æaduje hardv√©rov√∫ podporu</p>
                    </div>
                </div>

                <!-- Download Progress -->
                <div id="androidDownloadProgress" class="hidden space-y-2">
                    <h3 class="text-lg font-semibold pb-2 border-b border-dark-border">S≈•ahovanie Android ISO</h3>
                    <div class="bg-dark-surface2 rounded p-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm" id="androidDownloadStatus">Pripravuje sa s≈•ahovanie...</span>
                            <span class="text-sm font-medium" id="androidDownloadPercent">0%</span>
                        </div>
                        <div class="w-full bg-dark-bg rounded-full h-2">
                            <div id="androidDownloadBar" class="bg-green-600 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                        </div>
                        <p class="text-xs text-dark-text2 mt-2" id="androidDownloadSpeed">-</p>
                    </div>
                </div>

                <!-- Actions -->
                <div class="flex justify-end space-x-3 pt-4 border-t border-dark-border">
                    <button type="button" id="btnCancelAndroidVM" class="px-6 py-2 bg-dark-surface2 hover:bg-dark-border rounded">
                        Zru≈°i≈•
                    </button>
                    <button type="submit" id="btnCreateAndroidVM" class="px-6 py-2 bg-green-600 hover:bg-green-700 rounded font-medium">
                        Vytvori≈• Android VM
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="./src/renderer.js"></script>
</body>
</html>

